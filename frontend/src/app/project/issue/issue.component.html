<div class="issue" *ngIf="project && issue">
	<div class="issue-navigation">
		<div class="issue-navigation-board" (click)="navigateToBoard()">
			<mat-icon class="back-icon">arrow_back</mat-icon>
			Projects board
		</div>/
		<div class="issue-navigation-project" (click)="navigateToProject()">
			{{ project.name }}
		</div>
	</div>

	<div class="issue-header">
		<p class="issue-title">{{ issue.name }}</p>

		<div class="issue-actions">
			<button mat-stroked-button class="action" type="submit" (click)="createSubTask()">
				Create new subtask
			</button>

			<button mat-stroked-button class="action" type="submit" (click)="editIssue()">
				Edit issue
			</button>

			<button mat-stroked-button class="action" type="submit" (click)="deleteIssue()">
				Delete issue
			</button>
		</div>
	</div>

	<mat-form-field appearance="outline">
		<mat-label>Assignee</mat-label>
		<mat-select [formControl]="issueAssignee"
			(selectionChange)="updateIssueField('assignee_id', $event.value)">
			<mat-option value="unassigned">
				unassigned
			</mat-option>
			<mat-option *ngFor="let user of users" value="{{ user.id }}">
				{{ user.first_name }} {{ user.last_name }}
			</mat-option>
		</mat-select>
	</mat-form-field>

	<mat-form-field appearance="outline">
		<mat-label>Status</mat-label>
		<mat-select [formControl]="issueStatus"
			(selectionChange)="updateIssueField('status', $event.value)">
			<mat-option *ngFor="let status of issueStatuses" [value]="status">
				{{ issueStatusesSet[status] }}
			</mat-option>
		</mat-select>
	</mat-form-field>

	<p *ngIf="issue.description" class="issue-description">{{ issue.description }}</p>

</div>
